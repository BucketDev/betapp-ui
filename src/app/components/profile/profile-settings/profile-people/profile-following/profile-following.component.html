<div class="card">
  <div class="card-header">
    <mat-form-field appearance="outline" class="col p-0">
      <mat-label>Find people</mat-label>
      <input matInput placeholder="Type people's name"
            (keyup)="searchUser(userElement)" #userElement>
    </mat-form-field>
    <div class="row m-0 position-relative mat-elevation-z4">
      <div class="position-absolute w-100" style="z-index: 1000">
        <app-following-list [users]="searchResultUsers" (userSelectedEvent)="follow($event)"></app-following-list>
      </div>
    </div>
  </div>
  <div class="card-body">
    <app-loading *ngIf="loading"></app-loading>
    <div class="row m-0">
      <ul class="list-group animated fadeIn fast col p-0" *ngIf="user?.following">
        <li *ngIf="user.following.length === 0; else following"
            class="list-group-item text-muted text-center">
          <span>You're not following anyone yet, try typing a name</span>
        </li>
        <ng-template #following>
          <li class="list-group-item d-flex align-items-stretch p-2"
              *ngFor="let user of user.following">
            <div class="img-fluid img-follower-squared mat-elevation-z4 rounded"
                  [style.background-image]="user.photoUrl | photo: 96: 'gender-neutral-user' | uriStyleSanitizer">
            </div>
            <div class="d-flex flex-column justify-content-between flex-grow-1 p-2">
              <span class="h5">{{user.displayName}}</span>
              <span class="text-truncate font-italic">{{user?.description}}</span>
            </div>
            <div class="d-flex align-items-center">
                <button mat-raised-button color="warn" (click)="unfollow(user)">
                  <img src="https://png.icons8.com/color/cancel/24" alt="unfollow"> Unfollow
                </button>
            </div>
          </li>
        </ng-template>
      </ul>
    </div>
  </div>
</div>